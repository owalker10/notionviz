{
    "name": "notionviz",
    "version": "0.1.0",
    "private": true,
    "scripts": {
        "dev": "yarn workspace client start",
        "serve": "yarn workspace functions serve",
        "serve-nodb": "yarn workspace functions serve-nodb",
        "serve-host": "export REACT_APP_HOST=true && yarn build && firebase emulators:start --only functions,firestore,auth,hosting --import=./local_data --export-on-exit",
        "build-frontend": "yarn workspace client build",
        "build-server": "yarn workspace functions build",
        "build-lib": "yarn workspace common build", 
        "build": "yarn build-lib && yarn build-frontend && yarn build-server",
        "deploy": "yarn workspace functions loadenv && firebase deploy --only functions,hosting",
        "build-and-deploy": "yarn build && yarn deploy",
        "unhost": "firebase hosting:disable",
        "del-func": "firebase functions:delete app",
        "panic": "yarn unhost && yarn del-func",
        "pack-lib": "cd common && yarn pack --filename common.tgz && mv common.tgz ../functions/common.tgz && cd .. && yarn workspace functions remove common && yarn workspace functions add file:./common.tgz && yarn fix-lock",
        "unpack-lib": "yarn workspace functions remove common && rm functions/common.tgz && yarn fix-lock && yarn workspace functions add common@1.0.0",
        "fix-lock": "cd ./functions && npm i --package-lock-only"
    },
    "engines": {
        "node": "14"
    },
    "workspaces": {
        "packages": ["common", "client", "functions"],
        "nohoist": [
            "functions/common",
            "functions/**"
        ]
    }
}